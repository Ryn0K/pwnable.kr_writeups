from pwn import *
from re import findall
p = remote("pwnable.kr",9007)
print(p.recv().decode())#recv upto starting of game

for i in range(100): # loop 100 times to get flag
  N,C = findall(r'N=(\d+) C=(\d+)',p.recv().decode())[0] # extract the N and C
  left = 0 # starting
  right = int(N)-1 # ending
  C=int(C) #chances
  while((left < right) and C>0) : # untill left== right and chances > 0
    mid = (left+right)//2
    req = "".join(str(i) + " " for i in range(mid+1))
    p.sendline(req)
    res = int(p.recv().decode())
    if res%10 == 0:
      left = mid +1
    else:
      right = mid-1
    C-=1 
  while C>0: # if somehow chances left we should send some more jump to another loop 
    p.sendline("0")
    p.recv()
    C-=1 # reduce Chances one by one
  p.sendline(str(left))# now send the final answer for correction()
  print(p.recv().decode())
print(p.recv().decode()) # capture the flag

